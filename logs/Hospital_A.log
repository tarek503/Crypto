2025-11-30 21:58:34 [INFO] [Hospital_A] Initializing node with cryptographic material...
2025-11-30 21:58:34 [INFO] [Hospital_A] Loading SIGNING private key from 'Hospital_A_sign_private.pem'...
2025-11-30 21:58:35 [INFO] [Hospital_A] [CRYPTO] SignPrivateKeyLoaded | source=Hospital_A_sign_private.pem
2025-11-30 21:58:35 [INFO] [Hospital_A] Loading ENCRYPTION private key from 'Hospital_A_enc_private.pem'...
2025-11-30 21:58:35 [INFO] [Hospital_A] [CRYPTO] EncPrivateKeyLoaded | source=Hospital_A_enc_private.pem
2025-11-30 21:58:35 [INFO] [Hospital_A] [CRYPTO] SignPublicKeyDerived | length=451
2025-11-30 21:58:35 [INFO] [Hospital_A] [CRYPTO] EncPublicKeyDerived | length=451
2025-11-30 21:58:35 [INFO] [Hospital_A] Directories ready: data_dir='Hospital_A_data', received_dir='Hospital_A_received'
2025-11-30 21:58:35 [INFO] [Hospital_A] Registry updated for Hospital_A: host=127.0.0.1, port=65002
2025-11-30 21:58:35 [INFO] [Hospital_A] Background server worker started.
2025-11-30 21:58:35 [INFO] [Hospital_A] Web UI created for hospital=Hospital_A, log_file=D:\Users\Tarek\Desktop\crypto project\kassouma\Crypto\logs\Hospital_A.log
2025-11-30 21:58:35 [INFO] [Hospital_A] Server listening on 0.0.0.0:65002
2025-11-30 21:58:46 [INFO] [Hospital_A] API /api/request called – target=Hospital_B, file=patient_123.txt
2025-11-30 21:58:46 [INFO] [Hospital_A] request_record called: target=Hospital_B, file_name=patient_123.txt
2025-11-30 21:58:46 [INFO] [Hospital_A] [CRYPTO] SignMessage_Start | algo=RSA | hash=SHA-256 | message_preview=Request:patient_123.txt
2025-11-30 21:58:46 [INFO] [Hospital_A] [CRYPTO] SignMessage_Done | signature_len=256 | signature_preview=8ca13cccd3c58a6a791fd40f3c6949da...
2025-11-30 21:58:46 [INFO] [Hospital_A] Connecting to Hospital_B at 127.0.0.1:65001...
2025-11-30 21:58:46 [INFO] [Hospital_A] Sending secure request for 'patient_123.txt'...
2025-11-30 21:58:51 [INFO] [Hospital_A] Encrypted package received, decoding JSON...
2025-11-30 21:58:51 [INFO] [Hospital_A] [CRYPTO] EncryptedPackage_Received | ciphertext_len=112 | enc_keys_len=256 | hmac_len=32 | hmac_preview=b50ad3fcce27fc00e83f43f9e4dbce15... | iv_hex=14667eef844be79dac96310d9c2c6e43
2025-11-30 21:58:51 [INFO] [Hospital_A] [CRYPTO] RSA_DecryptKeys_Start | algo=RSA | enc_keys_len=256
2025-11-30 21:58:51 [INFO] [Hospital_A] [CRYPTO] RSA_DecryptKeys_Done | combined_len=64 | combined_preview=f1f7b3d0a7e836f1fcdd2c95b55fae2a...
2025-11-30 21:58:51 [INFO] [Hospital_A] [CRYPTO] SessionKeys_Derived | aes_key_len=32 | aes_key_preview=f1f7b3d0a7e836f1... | hmac_key_len=32 | hmac_key_preview=ce164013f036268c...
2025-11-30 21:58:51 [INFO] [Hospital_A] [CRYPTO] HMAC_Verify_Start | algo=HMAC-SHA256 | ciphertext_len=112
2025-11-30 21:58:51 [INFO] [Hospital_A] [CRYPTO] HMAC_Verify_Success | note=Integrity OK
2025-11-30 21:58:51 [INFO] [Hospital_A] [CRYPTO] AES_Decrypt_Start | algo=AES-256-CBC | ciphertext_len=112 | iv_hex=14667eef844be79dac96310d9c2c6e43
2025-11-30 21:58:51 [INFO] [Hospital_A] [CRYPTO] AES_Decrypt_Done | plaintext_len=103 | plaintext_preview=50415449454e54205245434f52443a20...
2025-11-30 21:58:51 [INFO] [Hospital_A] Decrypted record saved to 'Hospital_A_received\RECEIVED_patient_123.txt'
2025-11-30 21:58:51 [INFO] [Hospital_A] API /api/request succeeded.
2025-11-30 21:58:53 [INFO] [Hospital_A] API /api/request called – target=Hospital_B, file=patient_123.txt
2025-11-30 21:58:53 [INFO] [Hospital_A] request_record called: target=Hospital_B, file_name=patient_123.txt
2025-11-30 21:58:53 [INFO] [Hospital_A] [CRYPTO] SignMessage_Start | algo=RSA | hash=SHA-256 | message_preview=Request:patient_123.txt
2025-11-30 21:58:53 [INFO] [Hospital_A] [CRYPTO] SignMessage_Done | signature_len=256 | signature_preview=56c1cd63e3377fc13774bd9e9600f5e6...
2025-11-30 21:58:53 [INFO] [Hospital_A] Connecting to Hospital_B at 127.0.0.1:65001...
2025-11-30 21:58:53 [INFO] [Hospital_A] Sending secure request for 'patient_123.txt'...
2025-11-30 21:58:55 [WARNING] [Hospital_A] Server error response: Request Denied.
2025-11-30 21:58:55 [WARNING] [Hospital_A] API /api/request failed – see previous node logs for crypto/connection details.
